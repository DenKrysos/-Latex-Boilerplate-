%________________________________________________________________________
%------------------------------------------------------------------------
%							Font/Schriftarten Setup
%/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
%####################################
% With Lua(La)Tex, now better: 'fontspec'
%####################################
% - Main Fonts for the Document
%   - Package-Loading actually not really required, when setting fonts, like below
\usepackage{lmodern}% Lädt Latin Modern Font und setzt als mainfont für fontspec. Verbessert außerdem einige Font-Restrictions
% \usepackage{libertine}%
% \usepackage{libertinust1math}%
% \usepackage{inconsolata}%
% - Font for Math
% \usepackage{amsfonts}%
%  %  %\usepackage[T1,small,euler-digits]{eulervm}% Deprecated, the below one is newer
% \usepackage{euler-math}%
%
% - Load Font-handling Package
\usepackage{fontspec}%
\usepackage[warnings-off={mathtools-colon,mathtools-overbracket},math-style=ISO,bold-style=ISO]{unicode-math}%
\newcommand{\DenKrFontEngine}{fontspec}%
% - - - - Fonts - - - 
%  --  --  The lower, the better I like them
%--------------------------
% Main Font / Serif Font
%  - TTF: "Linux Libertine"
%  - OTF: "LinuxLibertine O"
% - - - - - - - - - - - - -
\setmainfont{Latin Modern Roman}[%
	SmallCapsFont={Latin Modern Roman Caps},% A Patch, because LMR does not provide Small Caps Bold
	%SmallCapsFeatures={Letters=SmallCaps},%
	ItalicFeatures={SmallCapsFont=LMRomanCaps10-Oblique},%
]%
\setmainfont{LinuxLibertine O}[%
	Scale=1.01,%
	% RawFeature={+zero},%
]%
%--------------------------
% Sans-Serif Font
%  - TTF: "Linux Biolinum"
%  - OTF: "LinuxBiolinum O"
% - - - - - - - - - - - - -
% \setsansfont{texgyreheros}[%
% 	Scale=MatchLowercase,%
% 	UprightFont=*-regular,%
% 	BoldFont=*-bold,%
% 	ItalicFont=*-italic,%
% 	BoldItalicFont=*-bolditalic,%
% ]%
\setsansfont{Linux Biolinum O}[%
	Scale=1.01,%
	% RawFeature={+zero},%
]%
%--------------------------
% Monospace Font
%  - Consolas, texgyreheros, Latin Modern Mono
%  - Inconsolate
%    - InconsolataN, Inconsolatazi4 (normal vs. narrow width) (both: slashed zero, curly quotes, default l)
%    - [StylisticSet={1,2,3}] | 1: shapely l, 2: unslashed zero, 3: straight quotes
% - - - - - - - - - - - - -
% \setmonofont[StylisticSet={1,3}]{Inconsolatazi4}%
\setmonofont{Latin Modern Mono}[%
	BoldFont={LMMonoLight10-Bold},%
	ItalicFont={LMMono10-Italic},%
	SlantedFont={* Slanted},%
	SmallCapsFont={* Caps},% A Patch for lack of proper Small Caps Provision
	BoldItalicFont={LMMonoLight10-BoldOblique},%
	ItalicFeatures={SmallCapsFont=LMMonoCaps10-Oblique},%
	BoldFeatures={SmallCapsFont=* Caps},%
]%
%--------------------------
% Math Font
%      https://tex.stackexchange.com/questions/425098/which-opentype-math-fonts-are-available
% - - - - - - - - - - - - -
% My Setup:
%   - Set proper Bold availability
% \setmathfont[range={\Rightarrow,\rightarrow,\Leftarrow,\leftarrow,\Uparrow,\uparrow,\Downarrow,\downarrow,\longleftarrow,\Longleftarrow,\longrightarrow,\Longrightarrow,\leftrightarrow,\Leftrightarrow,\longleftrightarrow,\Longleftrightarrow,\updownarrow,\Updownarrow,\nearrow,\searrow,\swarrow,\nwarrow,\leftleftarrows,\rightrightarrows,\upuparrows,\downdownarrows,\leftrightarrows,\rightleftarrows}]{XITS Math}%
\setmathfont[version=bold,script=math]{XITS Math Bold}%
%   - Actual Font Setting
\setmathfont{latinmodern-math.otf}[BoldFont={XITSMath-Bold}]%
% \setmathfont{TeX Gyre DejaVu Math}%
% \setmathfont{TeX Gyre Termes Math}%
% \setmathfont{GFS Neohellenic Math}%
% \setmathfont{XITS Math}%
\setmathfont{STIX Two Math}[BoldFont={XITSMath-Bold}]%
%[%
% 	BoldFont={STIXTwoText-Bold},%
% 	SemiBoldFont={STIXTwoText-SemiBold},%
% 	ItalicFont={STIXTwoText-Italic},%
% 	MediumItalicFont={STIXTwoText-MediumItalic},%
% 	SlantedFont={STIXTwoText-MediumItalic},%
% 	BoldItalicFont={STIXTwoText-BoldItalic},%
% ]%
% \setmathfont{Asana Math}%
\setmathfont{Euler-Math.otf}[BoldFont={XITSMath-Bold}]%
%   - Change Integral-Signs
% \setmathfont[range={"222B-"2233,"2A0B-"2A1C},StylisticSet=1]{XITS Math}%
\setmathfont[range={"222B-"2233,"2A0B-"2A1C},StylisticSet=8,BoldFont={XITSMath-Bold}]{STIX Two Math}%
%   - Change Numbers
% \setmathfont[range={"0030-"0039,"00B2,"00B3,"00B9,"00BC-"00BE,"FF10-"FF19,"2070,"2074-"2079,"2080-"2089},Numbers={Lining, Proportional},Scale=MatchUppercase]{Asana Math}%
% \setmathfont[range=up/Digits, Numbers={Lining, Proportional}, Scale=MatchUppercase]{Asana Math}%
\setmathfont[range={up/{num},bb/{num},tt/{num},sfup/{num},bfup/{num},bfsfup/{num}},BoldFont={XITSMath-Bold}]{Euler Math}%
%   - Change Literal Symbol Sets
%  %  %\setmathfont[Scale=MatchLowercase]{Asana Math}%
\setmathfont[range={bb,bbit},Scale=MatchUppercase,BoldFont={XITSMath-Bold}]{STIX Two Math}%
\setmathfont[range={cal,bfcal},Alternate,Scale=MatchUppercase,BoldFont={XITSMath-Bold}]{Asana Math}%
\setmathfont[range={scr,bfscr},Scale=MatchUppercase,BoldFont={XITSMath-Bold}]{Asana Math}%
\setmathfont[range={frak},Scale=MatchUppercase,BoldFont={XITSMath-Bold}]{Asana Math}%
\setmathfont[range={bffrak},Scale=MatchUppercase,BoldFont={XITSMath-Bold}]{STIX Two Math}%
% - - - - - - - - - - - - -
%  (Math Alternatives)
% - - - - - - - - - - - - -
% \setmathfont{TeX Gyre DejaVu Math}% an extension of the DejaVu Serif font, which is based on Arev, which is based on Bitstream Vera, which is based on Bitstream Prima. It is significantly different from the other TeX Gyre fonts, as they were conversions of legacy fonts to Unicode, and this turns an existing, comprehensive Unicode font by someone else into a math font. The DejaVu project was started by Štěpán Roh of the Czech Republic.
% \setmathfont{Euler Math}% From package "Euler-Math.sty", call alternatively with \setmathfont{Euler-Math.otf}. Repo: https://ctan.org/tex-archive/fonts/euler-math
% \setmathfont{Libertinus Math}% Fork of Linux Libertine. Uses more or less the standard Libertine Font. (Which is very nice, but as *I* use this already as normal-Text-Font, I want something different as Math-Font.)
% \setmathfont{Noto Sans Math}% This font is available from the Noto Math fonts GitHub page. Starting from version 3.000, it fully implements OpenType math features and privides an all-sans math font.
% \setmathfont{TeX Gyre Termes Math}% Clone of Times
% \setmathfont{TeX Gyre Bonum Math}% Clone of Bookman
% \setmathfont{TeX Gyre Pagella Math}% Clone of Palatino
% \setmathfont{TeX Gyre Schola Math}% Clone of Century Schoolbook
% \setmathfont{Latin Modern Math}% The default of 'unicode-math.sty'
% \setmathfont{XITS Math}% A Fork of STIX
% \setmathfont{Asana Math}% Close match to Palatino
% \setmathfont{STIX Two Math}% Successor to STIX. Repo: https://github.com/stipub/stixfonts
% \setmathfont{GFS Neohellenic Math}% This font has only minor slab serifs, making it a good choice for presentations. It is based on the public-domain font New Hellenic, inspired by a Greek font from Renaissance Venice.
% \setmathfont{Garamond Math}% Based on EB Garamond
% \setmathfont{FiraMath-Regular}% This font is based on the Fira Go sans-serif font.
% \setmathfont{Fira Sans}%
%
%--------------------------
% Finalizing Math-Font Setting
%--------------------------
% - Lesser and Greater Equal are by default slanted with Euler-Font. Overwrite back to a straight variant (enabled by "1all/[...]/language_font_setting/1common/font.tex")
%    -> This does it withOUT unicode-math.sty
\let\leq\leqstraight%
\let\geq\geqstraight%
%    -> This does it WITH unicode-math.sty
\setmathfont[range={"2264,"2265},BoldFont={XITSMath-Bold}]{Libertinus Math}%
%
%
%=================================
% For Japanese Characters
%=================================
\ifdef{\DenKrJPFont}{\ifnumcomp{\number\numexpr\DenKrJPFont\relax}{>}{0}{%
\usepackage{luatexja}%
\usepackage[match,%
]{luatexja-fontspec}%
%
\typeout{»DenKr:  Resolving FontDir for Japanese Fonts. Operating in: "\currfiledir"}%
\newcommand{\JPFontDir}{}%
\newcommand{\JPFontSubDir}{\DenKrAllMainRootDir/4aids/fonts/JP}%
% Doesn't work reliably, don't use that:
%		\newcommand{\checkAndPrependJPFontDir}{%
%				\typeout{»DenKr:  Checking JPFontDir: \JPFontDir\JPFontSubDir}%
%				\ifboolexpr{test {\IfFontExistsTF{\JPFontDir\JPFontSubDir/NotoSansJP-Regular.otf}}}{%
%						\typeout{»DenKr:  Working JPFontDir found: "\JPFontDir\JPFontSubDir/NotoSansJP-Regular.otf"}%
%						\edef\JPFontDir{\expandonce{\JPFontDir\JPFontSubDir/}}%
%				}{%
%						\typeout{»DenKr:  Iterating over JPFontDir: \JPFontDir}%
%						\edef\JPFontDir{\expandonce{\JPFontDir../}}%
%						\checkAndPrependJPFontDir%
%				}%
%		}%
%		\checkAndPrependJPFontDir%
% \edef\JPFontDir{\expandonce{./../\JPFontSubDir/}}%
\edef\JPFontDir{\expandonce{\JPFontDir\JPFontSubDir/}}%
\typeout{»DenKr:  Using JPFontDir: \JPFontDir}%
% \setmainjfont{Harano Aji Mincho}%
% \setmonojfont{Harano Aji Gothic}%
\typeout{»DenKr:  Load JP main Font}%
\setmainjfont{NotoSerifJP}[%
	Path={\JPFontDir},Extension={.otf},%
	UprightFont={*-Regular},%
	SmallCapsFont={*-Medium},%
	BoldItalicFont={*-SemiBold},%
	ItalicFont={*-ExtraLight},%
	BoldFont={*-Bold}%
]%
\typeout{»DenKr:  Load JP sans Font}%
\setsansjfont{NotoSansJP}[%
	Path={\JPFontDir},Extension={.otf},%
	UprightFont={*-Regular},%
	SmallCapsFont={*-Light},%
	BoldItalicFont={*-Bold},%
	ItalicFont={*-Light},%
	BoldFont={*-Bold}%
]%
\typeout{»DenKr:  Load JP mono Font}%
\setmonojfont{NotoSansJP-Medium}[%
	Path={\JPFontDir},Extension={.otf},%
	UprightFont={NotoSansJP-Medium},%
	SmallCapsFont={NotoSansJP-Light},%
	BoldItalicFont={NotoSansJP-Black},%
	ItalicFont={NotoSerifJP-Light},%
	BoldFont={NotoSansJP-Black}%
]%
}{%
	\typeout{»DenKr:  \\DenKrJPFont configured to not include Japanese Fonts. Define it to '1' to setup Japanese Fonts.}%
}}{%
	\typeout{»DenKr:  \\DenKrJPFont not defined. Hence no Inclusion of Japanese Fonts. Define it to '1' to setup Japanese Fonts.}%
}%
%/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
%							Font/Schriftarten done
%------------------------------------------------------------------------
%________________________________________________________________________
%
%
%
%
%
%________________________________________________________________________
%------------------------------------------------------------------------
%				Some Notes & Relocated Backups
%/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
% Notes about the families and how they are named in Japanese
% Mincho; Japanese Serif
% Gothic; Japanese Sans Serif
% Emphasized Text is done via Kenten; 圏点
%
%
%- - - Basic Fontspec
% \setmainfont{Times New Roman}%
% \setmainfont{Gungsuh}%
% \setmainfont{Malgun}%
% \setmainfont{Batang}%
% \setmainfont{Meiryo}%
% \setmainfont{MS Mincho}%
% \setmainfont{MS Gothic}%
% \setmainfont{NSimSun}%
% \setmainfont{SimSun}%
% \setmainfont{Kozuka Gothic Pro}% From Adobe, Downloadable free at: http://fontpark.net/de/schriftart/kozuka-gothic-pro-b/
% \setmainfont{Meiryo UI}%
% \setmainfont{Yu Gothic}%
%		\setmainfont{Yu Gothic Light}%
%		\setmainfont{Yu Gothic Medium}%
% \setmainfont{Yu Gothic UI}%
%		\setmainfont{Yu Gothic UI Light}%
%		\setmainfont{Yu Gothic UI Semibold}%
%		\setmainfont{Yu Gothic UI Semilight}%
% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
% \setmainfont[ItalicFont={Malgun},Ligatures=TeX]{Yu Gothic UI}% Includes Japanese Support, but not separated.
% 		Like:	% 	\setmainjfont{Yu Gothic UI} % \mcfamily
% 		 +		% 	\setsansjfont{Malgun} % \gtfamily
% \setmainfont{Times New Roman}%
% - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
%
%- - - CJK
% \setmainjfont{Yu Gothic UI}% \mcfamily
% \setmainjfont{Meiryo UI}[Path=\JPFontDir]% \mcfamily
% \setsansjfont{Malgun}[Path=\JPFontDir]% \gtfamily
% \setmainjfont[Path=\JPFontDir]{HanaMinA}% \mcfamily  % Font available for free download and installation on system "Hanazono Mincho". (Copy here in "\JPFontDir")
% \setsansjfont{Harano Aji Mincho}% \gtfamily  % Font available via Latex-Package "haranoaji" (Harano Aji Fonts)
%/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
%				Note done
%------------------------------------------------------------------------
%________________________________________________________________________